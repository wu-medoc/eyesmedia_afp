<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1, user-scalable=no">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../js/vendor/bs4/css/bootstrap.min.css">
    <link rel="stylesheet" href="../js/vendor/jquery-editable-select-master/dist/jquery-editable-select.min.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <!-- vendor css -->
    <link rel="stylesheet" href="../js/vendor/swiper/css/swiper.min.css">

    <!-- custom css -->
    <link rel="stylesheet" href="../styles/css.min.css">
    
    <link rel="stylesheet" href="../styles/style.min.css">
    <link rel="stylesheet" href="../styles/member.min.css">
    <link rel="stylesheet" href="../styles/animate.min.css">
    <link rel="stylesheet" href="../js/vendor/popoPicker-master/css/popoPicker.css">

    <title>Mobii! - 我的首頁</title>
</head>

<body>    
<div class="wrap container">

        <!--變更密碼2-->
        <div class="mypsw">
            <div class="headerbox container title-box">
                <div class="item icon-btn">                        
                    <button class="btn px-0" onclick="animRouter('Setting.html')" data-toggle="tooltip" data-placement="bottom" title="回上一頁">
                        <i class="material-icons">&#xe314;</i>
                    </button>
                </div>
                <div class="item title-name">變更密碼</div>
                <div class="item icon-btn"></div>
            </div>
            <form action="">
                <div class="change-password-list pt-5">
                    <ul>
                        <li>
                            <div class="password-tit">舊密碼</div>
                            <div class="password-item">
                                <input id="password-field-0" type="password" placeholder="請輸入6～12位英數混合"> 
                                <span toggle="#password-field-0" class="toggle-password"> 
                                    <i class="material-icons visibility d-none">&#xE8F4;</i>
                                    <i class="material-icons visibility-off">&#xE8F5;</i>
                                </span>
                                <div class="small-warning pl-0 warningNote invisible" id="pswT0"><span>請輸入密碼</span></div>
                            </div>
                        </li>
                        <li>
                            <div class="password-tit">密碼</div>
                            <div class="password-item">
                                <input id="password-field-1" type="password" placeholder="請輸入6～12位英數混合"> 
                                <span toggle="#password-field-1" class="toggle-password"> 
                                    <i class="material-icons visibility d-none">&#xE8F4;</i>
                                    <i class="material-icons visibility-off">&#xE8F5;</i>
                                </span>
                                <div class="small-warning pl-0 warningNote invisible" id="pswT1"><span>請輸入密碼</span></div>
                            </div>
                        </li>
                        <li>
                            <div class="password-tit">確認密碼</div>
                            <div class="password-item">
                                <input id="password-field-2" type="password" placeholder="請再次輸入密碼">
                                <span toggle="#password-field-2" class="toggle-password"> 
                                    <i class="material-icons visibility d-none">&#xE8F4;</i>
                                    <i class="material-icons visibility-off">&#xE8F5;</i>
                                </span>
                                <div class="small-warning pl-0 warningNote invisible" id="pswT2"><span>請再次輸入密碼</span></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </form>         
            <div class="fixed-btn container">
                <button class="btn next-btn w-100">保存</button>
            </div>   
        </div>
        

    <div class="addheight"></div>

</div> 
<div id="loginhtml"></div>
  

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../js/vendor/bs4/js/jquery-3.2.1.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->    
    <script src="../js/vendor/bs4/js/popper.min.js"></script>
    <script src="../js/vendor/bs4/js/bootstrap.min.js"></script>
    <script src="../js/vendor/jquery-editable-select-master/dist/jquery-editable-select.js"></script>

    <!-- vendor js -->
    <script src="../js/vendor/swiper/js/swiper.min.js"></script>
    <script src="../js/vendor/imgLiquid.js"></script>
    <script src="../js/vendor/popoPicker-master/js/popoPicker.js"></script>

    <!-- custom js -->    
    <script src="../js/animateCss.js"></script>

    <script>
        // $(document).ready(function(){
        // });
        $(window).on('load',function() {  
            
            function warningNote1(){
                $('.warningNote').removeClass('invisible');
                $('.warningNote').siblings('input').addClass("bb-org");
            }
            function warningNote2(){
                $('.warningNote').addClass('invisible');
                $('.warningNote').siblings('input').removeClass("bb-org");
            }

            function checkpsw(){
                warningNote2();
                if (((document.getElementById("password-field-1").value).match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,12}$/))){
                    if((document.getElementById("password-field-1").value)==(document.getElementById("password-field-2").value)){                        
                        warningNote2();
                        msgpara();
                        $('#msgP1').html("<p>密碼重設失敗！<br>請檢查網路環境<br>或是稍待一會再試一次</p>");
                        $('#msgpara .btn-login').text("確認").attr('onclick','');
                    }else{
                        $('#pswT2').removeClass('invisible').html("確認密碼不一致");
                        $('#pswT2').siblings('input').addClass("bb-org");
                    }
                }else{
                    warningNote1();
                    ((document.getElementById("password-field-1").value).length<12 || (document.getElementById("password-field-1").value).length>1)?
                    $('#pswT1').removeClass('invisible').html("至少有1個大寫字母、1個小寫字母和1個數字"):
                    $('#pswT1').removeClass('invisible').html("請輸入密碼");
                }
            }
            $('button.next-btn').on('click', function(){  
                checkpsw();    
            });
            
            $("#password-field-1").bind('input porpertychange',function(){
                warningNote1();
                let t1 = $("#password-field-1").val().length;
                (t1<6||t1>12)? $('#pswT1').html("請輸入6～12位英數混合") : warningNote2();
            });
            $("#password-field-0").bind('input porpertychange',function(){
                warningNote1();
                let t1 = $("#password-field-0").val().length;
                (t1<6||t1>12)? $('#pswT0').html("舊密碼不符") : warningNote2();
            });
        });
        $("#loginhtml").load("../login.html");
    </script>
    <script src="../js/index.js"></script>
</body>

</html>