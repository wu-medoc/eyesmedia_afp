<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1, user-scalable=no">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../js/vendor/bs4/css/bootstrap.min.css">
    <!-- vendor css -->
    <link rel="stylesheet" href="../js/vendor/jquery-editable-select-master/dist/jquery-editable-select.min.css">
    <link rel="stylesheet" href="../js/vendor/swiper/css/swiper.min.css">

    <!-- custom css -->
    <link rel="stylesheet" href="../styles/css.min.css">
    
    <link rel="stylesheet" href="../styles/style.min.css">
    <link rel="stylesheet" href="../styles/explore.min.css">
    <title>Mobii! - 週邊地圖</title>
</head>

<body>
    <div class="wrap container">
        <header>
            <div class="header-secondary container">
                <div class="index-flex justify-content-between">
                    <div class="item two">
                        <div class="close-btn">
                             <button type="button" class="btn" onclick="history.back()" data-toggle="tooltip" data-placement="bottom" title="回上一頁">
                                <i class="material-icons">&#xe314;</i>
                            </button>
                        </div>
                    </div>
                    <div class="item three text-center">
                        <div class="title-name">週邊地圖</div>
                    </div>
                    <div class="item two">
                        <button type="button" onclick="location.href='exploreList.html'" class="btn p-0 btnList"><i class="material-icons format_list_bulleted">&#xe241;</i></button>
                    </div>
                </div>
            </div>
        </header>
        <div class="pb-0">
            <div class="choice-filter-box h3em bt-line">
                <div class="flex-inline-between">
                    <div class="item center-v">美食</div>
                </div>
                <div class="filter-box center-v">
                    <button class="btn px-0 filter-item1" data-filter="type"><i class="material-icons">&#xE152;</i></button>
                </div>
            </div>     
            <div class="filterWrap">
                <div class="mask-container w-100 h-100"></div>       
                <div id="type" class="filter-content pb-wrap">
                    <ul class="open-page-ul bt-line">
                        <li class="flex-inline-between active" onclick="">                
                            <div class="">
                                全部
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>   
                        </li>
                        <li class="flex-inline-between">
                            <div class="">
                                美食
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                        <li class="flex-inline-between" onclick="">
                            <div class="">
                                購物
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                        <li class="flex-inline-between" onclick="">
                            <div class="">
                                景點
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                        <li class="flex-inline-between" onclick="">
                            <div class="">
                                遊樂/體驗
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                        <li class="flex-inline-between" onclick="">
                            <div class="">
                                住宿
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                        <li class="flex-inline-between" onclick="">
                            <div class="">
                                醫療保健
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                        <li class="flex-inline-between" onclick="">
                            <div class="">
                                Mobii! x 有無外送
                            </div>
                            <div class="">
                                <i class="material-icons check">&#xe5ca;</i>
                            </div>                
                        </li>
                    </ul>
                </div>
            </div>
            <div class="explore-swiper">
                <div class="explore-map swiper-container">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" onclick="location.href='../shopping/ExploreDetail.html#explore'">
                            <div class="card-item sm">
                                <div class="img-box rwdimgbox-60">
                                    <div style="background-image: url('https://picsum.photos/200/300/?random=1');" class="rwdimg"></div>
                                </div>
                                <div class="info-box">
                                    <ul class="info-list">
                                        <li class="info-name">瑞豐夜市</li>
                                        <li>
                                            <div class="shopping-store-badge">                        
                                                <span class="badge badge-pill text-explore"><img src="../img/share/2200.png" alt="">美食</span> 
                                                <span class="badge badge-pill text-explore">折價券</span>      
                                            </div>
                                        </li>
                                        <li class="info-near">
                                            <div class="item auto-left">距離<span>33</span>km</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>                        
                        <div class="swiper-slide" onclick="location.href='../shopping/ExploreDetail.html#explore'">
                            <div class="card-item sm">
                                <div class="img-box rwdimgbox-60">
                                    <div style="background-image: url('https://picsum.photos/300/300/?random=2');" class="rwdimg"></div>
                                </div>
                                <div class="info-box">
                                    <ul class="info-list">
                                        <li class="info-name">麥當勞 - 台北德行店</li>
                                        <li>
                                            <div class="shopping-store-badge">                        
                                                <span class="badge badge-pill text-explore"><img src="../img/share/2200.png" alt="">美食</span> 
                                                <span class="badge badge-pill text-explore">折價券</span>      
                                            </div>
                                        </li>
                                        <li class="info-near">
                                            <div class="item auto-left">距離<span>233</span>km</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="map"></div>
        </div>
        
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../js/vendor/bs4/js/jquery-3.2.1.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->    
    <script src="../js/vendor/bs4/js/popper.min.js"></script>
    <script src="../js/vendor/bs4/js/bootstrap.min.js"></script>

    <script src="../js/map_page_01.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAkQwb7pLEiiRLN4mOFRUMZKIfn4Judkzk&language=zh-TW&callback=initMap"></script>
    
    <script src="../js/vendor/swiper/js/swiper.min.js"></script>
    <script>
        $(document).ready(function(){
            var topBox = $('.explore-top-box');
            var card = $('.card-item');
            $(window).on('resize', function(){
                $('#map').css({ 'height': 'calc(100vh - ' + (topBox.outerHeight() + card.outerHeight()) + 'px)' });
            }).trigger('resize');
        });

        if ($( ".explore-map" ).hasClass("swiper-container")) {
            var swiper = new Swiper('.explore-map.swiper-container', {
                paginationClickable: true,
                slidesPerView: 1.1,
                spaceBetween: 10
            });
        }
        
            // 開啟篩選清單
            $('.filter-item1').on('click', function(){
                $(this).toggleClass('active').siblings().removeClass('active');
                var filter = $(this).data('filter');
                $('#' + filter).toggleClass('is-open');
                $('#' + filter).siblings().removeClass('is-open');
                $(".mask-container").removeClass("d-block");
                if ($('#' + filter).hasClass("is-open")) {
                    $(".mask-container").addClass("d-block");
                }
            })
            // 篩選列表勾選控制
            $('.open-page-ul li').on('click',function(){
                $(this).toggleClass('active').siblings().removeClass('active');
            });
    </script>
</body>

</html>